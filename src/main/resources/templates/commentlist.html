<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>comments</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link type="text/css"rel="stylesheet" href="css/bootstrap.min.css" th:href="@{css/bootstrap.min.css}" />
    <style type="text/css">
    
    .container{
    color: red;
    background-color: black;
    border-radius: 10px;
    border: 2px solid red;
    }
    .replycontainer{
    color: black;
    background-color: gray;
    border-radius: 10px;
    border: 2px solid black;
    width: 1140px;
    margin: 0 auto;
    }
    .info{
    color: white;
    font-family: Helvetica;
    }
    .replyinfo{
    color: white;
    font-family: Helvetica;
    }
    .user{
    color: white;
    font-family: Helvetica;
    }
    .replyuser{
    color: white;
    font-family: Helvetica;
    }
    .text{
    word-wrap: break-word;
   	width: 100%;
    }
    </style>
</head>
<body>


		<h1>Tapahtumat</h1>
		
		<a href="/newmetal">
		<button class="btn btn-success ">Lisää Metalli</button>
		</a>
		<div style="clear: both; display: block; height: 15px;"></div>


		<table class="table table-striped">
		<tr>
		<th>Id</th>
		<th>ammount</th>
		</tr>  
    	<tr th:each = "metal : ${metals}">
    	<td th:text="${metal.metalid}"></td>
    	<td th:text="${metal.ammount}"></td>  		
    	</tr>
    	</table>
    	
    	
		
			<h1 th:text = "#{welcome.text}"></h1>
		
		
		
			<form th:object="${comment}" th:action="@{/savecomment}" action="#" method="post">
			
			<textarea id="komment" th:field="*{text}" rows="2" cols="65"></textarea>
			<div style="clear: both; display: block; height: 5px;"></div>
			<input type="submit" value="Jätä kommentti"></input>
			<div style="clear: both; display: block; height: 5px;"></div>
			</form>

   		 
			
    		<tr th:each = "comment : ${comments}">
    		<div class="container">
    		<div class="info">Nro
    		<th th:text="${comment.id}"></th>
    		Time and date posted:
    		<th th:text="${comment.time}"></th>
    		<th th:text="${comment.date}"></th>
    		
    		
    		<a th:href="@{/delete/{id}(id=${comment.id})}">
    		<button class="btn btn-danger btn-sm">Poista kommentti</button>
    		</a>
    		
    		<a th:href="@{/View/{id}(id=${comment.id})}">
    		<button class="btn btn-warning btn-sm">Näytä</button>
    		</a>
    		
    		<a th:href="@{/addcommentreply/{id}(id=${comment.id})}">
    		<button class="btn btn-success btn-sm">Add reply</button>
    		</a>
    		
    		
    		</div>
    		<div>
    		<p class="user" th:text="${comment.username}"></p>
    		</div>
    		<p class="text" th:text="${comment.text}"></p>
    		
 			</div>
 			<div style="clear: both; display: block; height: 5px;"></div>
 			
				<span th:each="reply,iterStat : ${comment.replies}">
				<div class="replycontainer">
				<div class="replyinfo">Nro
				<th th:text="${reply.replyid}"/>
				Time and date posted:
				<th th:text="${reply.replytime}"/>
				<th th:text="${reply.replydate}"/>
    			
    		</div>
    		<div>
				<p class="replyuser" th:text="${reply.Username}"/>
				</div>
				<p th:text="${reply.text}"/>
					</div>
					<li th:if="${!iterStat.last}"></li>
				</span>
				   		
    		
 			<div style="clear: both; display: block; height: 5px;"></div>
 			
 			
    	</tr>
     
	    	
</body>


</html>