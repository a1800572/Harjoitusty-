<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>comments</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <style type="text/css">
    
    .container{
    color: red;
    background-color: black;
    border-radius: 10px;
    border: 1px solid red;
    
    }
    .replycontainer{
    color: black;
    background-color: gray;
    border-radius: 10px;
    border: 1px solid black;
    
    }
    
    .info{
    color: white;
    font-family: Helvetica;
    }
    
    .user{
    color: white;
    font-family: Helvetica;
  
    }
    .text{
    word-wrap: break-word;
   	width: 100%;
    }
    
    
    
    </style>
</head>
<body>
		<h1>Comments</h1>
		
		<form th:object="${comment}" th:action="@{/savecomment}" action="#" method="post">
			
			<textarea id="komment" th:field="*{text}" rows="5" cols="65"></textarea>
			<div style="clear: both; display: block; height: 5px;"></div>
			<input type="submit" value="J채t채 kommentti"></input>
			<div style="clear: both; display: block; height: 5px;"></div>
		</form>

   		 
			
    		<tr th:each = "comment : ${comments}">
    		<div class="container">
    		<div class="info">Nro
    		<th th:text="${comment.id}"></th>
    		Time and date posted:
    		<th th:text="${comment.time}"></th>
    		<th th:text="${comment.date}"></th>
    		
    		
    		<button><a th:href="@{/delete/{id}(id=${comment.id})}">Poista kommentti</a></button>
    		<button><a th:href="@{/View/{id}(id=${comment.id})}">N채yt채</a></button>
    		<button><a th:href="@{/addcommentreply/{id}(id=${comment.id})}">Add reply</a></button>
    		</div>
    		<div>
    		<p class="user" th:text="${comment.username}"></p>
    		</div>
    		<p class="text" th:text="${comment.text}"></p>
    		
 			</div>
 			<div style="clear: both; display: block; height: 5px;"></div>
 			
				<span th:each="reply,iterStat : ${comment.replies}">
				<div class="replycontainer">
				<th th:text="${reply.replyid}"/>
				Time and date posted:
				<th th:text="${reply.replytime}"/>
				<th th:text="${reply.replydate}"/>
    			
    		
				<p th:text="${reply.Username}"/>
				<p th:text="${reply.text}"/>
					</div>
					<li th:if="${!iterStat.last}"></li>
				</span>
				   		
    		
 			<div style="clear: both; display: block; height: 5px;"></div>
 			
 			
    	</tr>
     
	    	
</body>


</html>