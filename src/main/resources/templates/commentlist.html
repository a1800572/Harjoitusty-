<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>comments</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link type="text/css"rel="stylesheet" href="css/bootstrap.min.css" th:href="@{css/bootstrap.min.css}" />
    <style type="text/css">
    
    .container{
    color: red;
    background-color: black;
    border-radius: 10px;
    border: 2px solid red;
    }
    .replycontainer{
    color: black;
    background-color: gray;
    border-radius: 10px;
    border: 2px solid black;
    width: 1140px;
    margin: 0 auto;
    }
    .info{
    color: white;
    font-family: Helvetica;
    }
    .replyinfo{
    color: white;
    font-family: Helvetica;
    }
    .user{
    color: white;
    font-family: Helvetica;
    }
    .replyuser{
    color: white;
    font-family: Helvetica;
    }
    .text{
    word-wrap: break-word;
   	width: 100%;
    }
    


.dropdown {
  position: relative;
  display: inline-block;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f1f1f1;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

.dropdown-content a {
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
}

.dropdown-content a:hover {background-color: #ddd;}

.dropdown:hover .dropdown-content {display: block;}

<!--puuttuva nappula tiedostossa bootstrop.min.css-->

.btn-group-xs > .btn, .btn-xs {
  padding: .25rem .4rem;
  font-size: .875rem;
  line-height: .5;
  border-radius: .2rem;
}

    </style>
</head>
<body>

		


		<h1 th:text = "#{proceedings.text}"></h1>
		
		
		<div class="dropdown">
  		<button class="btn btn-success btn-sm" th:text="#{languagebutton.text}"></button>
  		<div class="dropdown-content">
		
		<a href="/commentlist?language=en">
		<button class="btn btn-primary" th:text="#{englishbutton.text}"></button>
		</a>
		
		
		<a href="/commentlist?language=fr">
		<button class="btn btn-primary" th:text="#{frenchbutton.text}"></button>
		</a>
		
		
		<a href="/commentlist?language=fi">
		<button class="btn btn-primary" th:text="#{finnishbutton.text}"></button>
		</a>
		
		
		<a href="/commentlist?language=ru">
		<button class="btn btn-primary" th:text="#{russianbutton.text}"></button>
		</a>
		
		</div>
		</div>
		
		
		<a href="/newmetal">
		<button class="btn btn-success btn-sm" th:text="#{addbutton.text}">
		</button>
		</a>
		
		<div style="clear: both; display: block; height: 15px;"></div>


		<table class="table table-striped">
		<tr>
		<th>Id</th>
		<th>Ammount/grams</th>
		<th>Price/gram</th>
		<th>Metal type</th>
		</tr>
		  
    	<tr th:each = "metal : ${metals}">
    	<td th:text="${metal.metalid}"></td>
    	<td th:text="${metal.ammount}"></td>
    	
    	<span th:if="${metal.metaltype.type == 'Gold'}">
    	<span th:number="${metal.price=35}" />
    	</span>
    	
    	<span th:if="${metal.metaltype.type == 'Silver'}">
    	<span th:number="${metal.price=2}" />
    	</span>
    	
    	
    	<td th:text="${metal.price}"></td>
    	<td th:text="${metal.metaltype.type}"></td>	
    	</tr>
    	</table>
    	
    	
		
			<h1 th:text = "#{comments.text}"></h1>
		
		
		
			<form th:object="${comment}" th:action="@{/savecomment}" action="#" method="post">
			
			<textarea id="komment" th:field="*{text}" rows="2" cols="65"></textarea>
			<div style="clear: both; display: block; height: 5px;"></div>
			<button class="btn btn-success btn-sm" type="submit" th:text="#{savecomment.text}"></button>
			<div style="clear: both; display: block; height: 5px;"></div>
			</form>
			

   		 
			
    		<tr th:each = "comment : ${comments}">
    		<div class="container">
    		<div class="info">Nro
    		<th th:text="${comment.id}"></th>
    		Time and date posted:
    		<th th:text="${comment.time}"></th>
    		<th th:text="${comment.date}"></th>
    		
    		
    		<a th:href="@{/delete/{id}(id=${comment.id})}">
    		<button class="btn btn-danger btn-xs" th:text="#{deletecommentbutton.text}"></button>
    		</a>
    		
    		<a th:href="@{/View/{id}(id=${comment.id})}">
    		<button class="btn btn-warning btn-xs" th:text="#{displaybutton.text}"></button>
    		</a>
    		
    		<a th:href="@{/addcommentreply/{id}(id=${comment.id})}">
    		<button class="btn btn-success btn-xs" th:text="#{addreplybutton.text}"></button>
    		</a>
    		
    		
    		</div>
    		<div>
    		<p class="user" th:text="${comment.username}"></p>
    		</div>
    		<p class="text" th:text="${comment.text}"></p>
    		
 			</div>
 			<div style="clear: both; display: block; height: 5px;"></div>
 			
				<span th:each="reply,iterStat : ${comment.replies}">
				<div class="replycontainer">
				<div class="replyinfo">Nro
				<th th:text="${reply.replyid}"/>
				Time and date posted:
				<th th:text="${reply.replytime}"/>
				<th th:text="${reply.replydate}"/>
    			
    		</div>
    		<div>
				<p class="replyuser" th:text="${reply.Username}"/>
				</div>
				<p th:text="${reply.text}"/>
					</div>
					<li th:if="${!iterStat.last}"></li>
				</span>
				   		
    		
 			<div style="clear: both; display: block; height: 5px;"></div>
 			
 			
    	</tr>
     
	    	
</body>


</html>